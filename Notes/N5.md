## Lecture 5: Arithmetic and geometric series
### Number series
A **number series** is a sequence of numbers.
$$a_1,a_2,a_3,...$$

**Example**
* the natural number series $0,1,2,...$ with the formula $a_n=n-1$
* the perfect square series $0,1,4,9,...$ with the formula $a_n=(n-1)^2$
* the prime number series $2,3,5,7,...$ with no obvious formula
* Fibonacci series $1,1,2,3,5,8,...$ with $a_{n+2}=a_{n}+a_{n+1}$ when $n\ge 1$
* Harmonic series $1,\frac{1}{2}, \frac{1}{3}, \frac{1}{4}, ...$ with the formula $a_n=\frac{1}{n}$
* the $9$ series $0.9, 0.99, 0.999, 0.9999, 0.99999....$ and the limit is $1$.
* the $\pi$ series $3, 3.1, 3.14, 3.141, 3.1415,...$
* the series of positive rational numbers $\frac{1}{1},\frac{1}{2},\frac{2}{1},\frac{1}{3},\frac{2}{3},\frac{3}{2},\frac{3}{1},...$ with numerating all nonrepeating fractions with both numerator and denominator up to $k$
* Check the On-Line Encyclopedia of Integer Sequences (OEIS) ([Link](https://en.wikipedia.org/wiki/List_of_integer_sequences)) for more awesome series.

### Arithmetic progression (series)
An arithmetic progression is a number series with equal distance. It has the formula 

$$a_n=a_1+(n-1)d,$$ 

where $a_1$ is the first term and $d$ is the equal distance.

**Term counting formula**
$$n=\frac{a_n-a_1}{d}+1$$

**Example**
* $1,3,5,7,9,...$ with $a_n=2n-1$
* $2,4,6,8,10,...$ with $a_n=2n$
* $3,7,11,15,...$ with $a_n=3+4(n-1)$
* $3,7,11,...$ what is the 50th term? $a_{50}=3+4*49=199$
* How many terms of a series starting from $3$ and ends at $35$ with equal distance $4$? 
    * Term formula gives us total $(35-3)/4+1=9$ terms

**The sum formula**
The sum of the arithmetic progression has the formula below

$$\sum_{k=1}^n a_k=a_1+a_2+a_3+...+a_n=(a_1+a_n)*n/2,$$

where $n$ is the number of terms which can be calculated by 

$$n=(a_n-a_1)/d+1.$$

**Example**
* $1+2+...+100=(1+100)*100/2=5050$
* $1+3+5+7+...+99=?$
    * the number of terms $n=(99-1)/2+1=50$.
    * the sum $=(1+99)*50/2=50^2=2500$
* $1+3+5+7+...+(2n-1)=(1+2n-1)*n/2=n^2$
    * the famous geometric proof
* $3+7+11+...+103=?$
    * the number of terms $n=(103-3)/4+1=26$
    * the sum $=(3+103)*26/2=106*13=1378$

### Geometric series
The geometric series is of the form $a_n=ar^{n-1}$ 

$$a, ar, ar^2, ar^3, ...$$

### The sum formula 
Recall the basic algebraic formula below

$$(x-1)(1+x+...+x^n)=x+x^2+...+x^{n+1}-1-x-x^2-...-x^{n}=x^{n+1}-1$$

Therefore 
$$a+ar+...+ar^{n-1}=a(1+r+...+r^{n-1})=\frac{a(r^n-1)}{r-1}$$

**Example** $1+2+4+...+2048=?$
* how many terms? $2048=2^{11}$ so $11$ terms.
* by the formula, we have $r=2$ and $a=1$. So the sum equals $2^{12}-1=4096-1=4095$.
* can you provide a geometric proof?

### The infinite sum formula when $|r|<1$

$$a+ar+ar^2+ar^3+...= a(1+r+r^2+r^3+...)$$

So it suffices to find the value 
$$x=1+r+r^2+r^3+...$$
$$rx=r+r^2+r^3+...=x-1$$
$$1=(1-r)x$$
$$x=\frac{1}{1-r}$$

Thus the sum 

$$a+ar+ar^2+ar^3+...=\frac{a}{1-r}$$

**Example**
* $1+\frac{1}{n}+\frac{1}{n^2}+...=\frac{1}{1-\frac{1}{n}}=\frac{n}{n-1}=1+\frac{1}{n-1}$

### Quadratic equation solution example
* $x^2-x-1=0$
* $x^2-3x+2=0$

### Fibonacci series
The Fibonacci series is defined with the following recursive formula

$$a_n=a_{n-1}+a_{n-2}$$

with the first few terms:

$$1,1,2,3,5,8,....$$

Why this is related to golden ratio?

$$\frac{a_n}{a_{n-1}}=\frac{a_{n-1}+a_{n-2}}{a_{n-1}}=1+\frac{a_{n-2}}{a_{n-1}}=1+\frac{1}{\frac{a_{n-1}}{a_{n-2}}}$$

When $n$ is very large, approximately $r=\frac{a_n}{a_{n-1}}=\frac{a_{n-1}}{a_{n-2}}$. So we have 

$$r=1+\frac{1}{r}$$

$$r^2-r-1=0$$

$$r=\frac{1\pm\sqrt{5}}{2}=1.618...\text{ or }-0.618...$$

If we look at the first few terms, the fraction limits to $1.618...$, which is the golden ratio. 

### Fibonacci series II
For the recursive formula

$$a_n=a_{n-1}+a_{n-2}$$

can we find other solutions?

Let us insert a geometric series $a_n=r^n$ in

$$r^n=r^{n-1}+r^{n-2}$$

$$r^n-r^{n-1}-r^{n-2}=r^{n-2}(r^2-r-1)=0$$

$r=0$ is a trivial solution so not interested. So the series

$$(\frac{1\pm\sqrt{5}}{2})^n$$

is a solution for Fibonacci formula and so is 

$$T(n)=a(\frac{1+\sqrt{5}}{2})^{n-1}+b(\frac{1-\sqrt{5}}{2})^{n-1}$$

for any numbers $a,b$. This is called the general solution for the Fibonacci recursive formula.

For $n=1$, $T(1)=a+b=1$

For $n=2$, $T(2)=a(\frac{1+\sqrt{5}}{2})+b(\frac{1-\sqrt{5}}{2})=\frac{a+b}{2}+\frac{a-b}{2}\sqrt{5}=1$

This implies

$$a-b=\frac{1}{\sqrt{5}}$$

So 

$$T(n)=\frac{1}{2}(1+\frac{1}{\sqrt{5}})(\frac{1+\sqrt{5}}{2})^{n-1}+\frac{1}{2}(1-\frac{1}{\sqrt{5}})(\frac{1-\sqrt{5}}{2})^{n-1}$$

$$=\frac{1}{2}(\frac{1+\sqrt{5}}{\sqrt{5}})(\frac{1+\sqrt{5}}{2})^{n-1}+\frac{1}{2}(\frac{\sqrt{5}-1}{\sqrt{5}})(\frac{1-\sqrt{5}}{2})^{n-1}$$

$$=\frac{1}{\sqrt{5}}((\frac{1+\sqrt{5}}{2})^{n}-(\frac{1-\sqrt{5}}{2})^{n})$$

**Exercise** Verify $T(3)=2$ and $T(4)=3$.
